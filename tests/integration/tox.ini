[tox]
envlist = py38
skipsdist = True

[testenv]
setenv =
    HIVE_BUILD_ROOT_PATH = {env:HIVE_BUILD_ROOT_PATH:{toxinidir}/../../build/hive}
    PYTHONPATH = {env:PYTHONPATH:{toxinidir}/../../hive/tests/test_tools/package:{toxinidir}/local_tools}
    LIBFAKETIME_PATH = {env:LIBFAKETIME_PATH:}
    DB_URL = {env:DB_URL:}
    PATTERNS_PATH = {env:PATTERNS_PATH:}
deps =
    pytest==6.2.5
    pytest-timeout==2.0.1
    pytest-repeat==0.9.1
    sqlalchemy==1.4.25
    sqlalchemy-utils==0.37.9
    psycopg2==2.9.1
    requests==2.25.1
    pandas==1.4.0
commands =
    pytest -s --junitxml="./report.xml" {posargs}
